<app-auth-shell>
  <div
    class="w-full max-w-lg bg-[#85a94d]/95 rounded-3xl px-10 py-8 flex flex-col items-center shadow-xl"
  >
    <img
      src="/assets/img/logo.png"
      alt="Fundo Camino Real"
      class="w-30 mb-4 drop-shadow-lg"
    />

    @if (state.errores().general) {
      <div class="mb-4 w-full rounded-md border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700">
        {{ state.errores().general }}
      </div>
    }

    <form class="w-full space-y-4" (ngSubmit)="onSubmit($event)">
      <div class="space-y-3">
        <div class="flex items-center bg-white rounded-full px-4 h-11 shadow-sm">
          <span class="mr-3 text-gray-400">
            <i class="fa fa-user"></i>
          </span>
          <input
            type="text"
            placeholder="Usuario"
            class="flex-1 text-sm bg-transparent focus:outline-none"
            [class.border-red-400]="state.errores().usuario"
            [value]="state.form().usuario"
            (input)="onChange('usuario', $any($event.target).value)"
          />
        </div>
        @if (state.errores().usuario) {
          <p class="mt-1 text-[11px] text-red-100">
            {{ state.errores().usuario }}
          </p>
        }

        <div class="flex items-center bg-white rounded-full px-4 h-11 shadow-sm">
          <span class="mr-3 text-gray-400">
            <i class="fa fa-lock"></i>
          </span>
          <input
            type="password"
            placeholder="Contraseña"
            class="flex-1 text-sm bg-transparent focus:outline-none"
            [class.border-red-400]="state.errores().password"
            [value]="state.form().password"
            (input)="onChange('password', $any($event.target).value)"
          />
        </div>
        @if (state.errores().password) {
          <p class="mt-1 text-[11px] text-red-100">
            {{ state.errores().password }}
          </p>
        }
      </div>

      <div class="flex items-center justify-between text-xs text-white mt-2">
        <label class="flex items-center gap-2">
          <input type="checkbox" class="h-3.5 w-3.5" />
          <span>Recordarme</span>
        </label>
        <a href="#" class="underline">¿Recuperar contraseña?</a>
      </div>

      <button
        type="submit"
        class="mt-4 w-full h-11 bg-white text-[#85a94d] font-semibold rounded-full text-sm tracking-wide cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed"
        [disabled]="state.cargando()"
      >
        @if (state.cargando()) { INICIANDO... } @else { INICIAR SESIÓN }
      </button>

      <p class="mt-4 text-xs text-white text-center cursor-pointer">
        ¿No tienes cuenta?
        <a routerLink="/registrar" class="font-semibold underline">
          Regístrate aquí
        </a>
      </p>
    </form>
  </div>
</app-auth-shell>
